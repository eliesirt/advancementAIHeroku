2025-08-29T19:24:27.385317+00:00 app[web.1]: Python buildpack: Detected 512 MB available memory and 8 CPU cores.
2025-08-29T19:24:27.385422+00:00 app[web.1]: Python buildpack: Defaulting WEB_CONCURRENCY to 2 based on the available memory.
2025-08-29T19:24:27.726383+00:00 app[web.1]: 
2025-08-29T19:24:27.726402+00:00 app[web.1]: > rest-express@1.0.0 start
2025-08-29T19:24:27.726402+00:00 app[web.1]: > NODE_ENV=production node dist/index.js
2025-08-29T19:24:27.726402+00:00 app[web.1]: 
2025-08-29T19:24:27.762639+00:00 app[web.1]: 🚀 Starting TypeScript server with tsx...
2025-08-29T19:24:28.485045+00:00 app[web.1]: npm warn exec The following package was not found and will be installed: tsx@4.20.5
2025-08-29T19:24:29.876028+00:00 app[web.1]: Starting application initialization...
2025-08-29T19:24:29.876074+00:00 app[web.1]: NODE_ENV: production
2025-08-29T19:24:29.876093+00:00 app[web.1]: Starting server on port 10758, NODE_ENV=production
2025-08-29T19:24:29.876107+00:00 app[web.1]: 🚀 HEROKU: Using ultra-fast startup mode...
2025-08-29T19:24:29.876238+00:00 app[web.1]: Routes module failed to load, using fallback
2025-08-29T19:24:29.876272+00:00 app[web.1]: Setting up production fallbacks for Vite functions
2025-08-29T19:24:29.876352+00:00 app[web.1]: 🔐 Setting up immediate authentication routes...
2025-08-29T19:24:29.876559+00:00 app[web.1]: Warning: connect.session() MemoryStore is not
2025-08-29T19:24:29.876559+00:00 app[web.1]: designed for a production environment, as it will leak
2025-08-29T19:24:29.876559+00:00 app[web.1]: memory, and will not scale past a single process.
2025-08-29T19:24:29.876818+00:00 app[web.1]: 🎙️ HEROKU: Setting up priority voice processing route with affinity fix...
2025-08-29T19:24:29.915530+00:00 app[web.1]: /app/server/index.ts:294
2025-08-29T19:24:29.915532+00:00 app[web.1]:     app.post("/api/voice-recordings/process-direct", authenticateImmediate, async (req: any, res) => {
2025-08-29T19:24:29.915533+00:00 app[web.1]:                                                      ^
2025-08-29T19:24:29.915533+00:00 app[web.1]: 
2025-08-29T19:24:29.915533+00:00 app[web.1]: 
2025-08-29T19:24:29.915534+00:00 app[web.1]: ReferenceError: Cannot access 'authenticateImmediate' before initialization
2025-08-29T19:24:29.915534+00:00 app[web.1]:     at <anonymous> (/app/server/index.ts:294:54)
2025-08-29T19:24:29.915547+00:00 app[web.1]: 
2025-08-29T19:24:29.915547+00:00 app[web.1]: Node.js v18.20.8
2025-08-29T19:24:29.939529+00:00 app[web.1]: ❌ Server exited with code 1
2025-08-29T19:24:29.946423+00:00 app[web.1]: npm notice
2025-08-29T19:24:29.946424+00:00 app[web.1]: npm notice New major version of npm available! 10.9.3 -> 11.5.2
2025-08-29T19:24:29.946425+00:00 app[web.1]: npm notice Changelog: https://github.com/npm/cli/releases/tag/v11.5.2
2025-08-29T19:24:29.946437+00:00 app[web.1]: npm notice To update run: npm install -g npm@11.5.2
2025-08-29T19:24:29.946437+00:00 app[web.1]: npm notice
2025-08-29T19:24:29.999468+00:00 heroku[web.1]: Process exited with status 1
2025-08-29T19:24:30.025831+00:00 heroku[web.1]: State changed from starting to crashed
2025-08-29T19:24:30.030322+00:00 heroku[web.1]: State changed from crashed to starting
2025-08-29T19:24:36.647378+00:00 heroku[web.1]: Starting process with command `npm run start`
2025-08-29T19:24:37.179538+00:00 app[web.1]: Python buildpack: Detected 512 MB available memory and 8 CPU cores.
2025-08-29T19:24:37.179637+00:00 app[web.1]: Python buildpack: Defaulting WEB_CONCURRENCY to 2 based on the available memory.
2025-08-29T19:24:37.533931+00:00 app[web.1]: 
2025-08-29T19:24:37.533968+00:00 app[web.1]: > rest-express@1.0.0 start
2025-08-29T19:24:37.533968+00:00 app[web.1]: > NODE_ENV=production node dist/index.js
2025-08-29T19:24:37.533968+00:00 app[web.1]: 
2025-08-29T19:24:37.570789+00:00 app[web.1]: 🚀 Starting TypeScript server with tsx...
2025-08-29T19:24:38.301130+00:00 app[web.1]: npm warn exec The following package was not found and will be installed: tsx@4.20.5
2025-08-29T19:24:39.742916+00:00 app[web.1]: Starting application initialization...
2025-08-29T19:24:39.742955+00:00 app[web.1]: NODE_ENV: production
2025-08-29T19:24:39.742966+00:00 app[web.1]: Starting server on port 38905, NODE_ENV=production
2025-08-29T19:24:39.742979+00:00 app[web.1]: 🚀 HEROKU: Using ultra-fast startup mode...
2025-08-29T19:24:39.743093+00:00 app[web.1]: Routes module failed to load, using fallback
2025-08-29T19:24:39.743122+00:00 app[web.1]: Setting up production fallbacks for Vite functions
2025-08-29T19:24:39.743205+00:00 app[web.1]: 🔐 Setting up immediate authentication routes...
2025-08-29T19:24:39.743375+00:00 app[web.1]: Warning: connect.session() MemoryStore is not
2025-08-29T19:24:39.743375+00:00 app[web.1]: designed for a production environment, as it will leak
2025-08-29T19:24:39.743375+00:00 app[web.1]: memory, and will not scale past a single process.
2025-08-29T19:24:39.743567+00:00 app[web.1]: 🎙️ HEROKU: Setting up priority voice processing route with affinity fix...
2025-08-29T19:24:39.780766+00:00 app[web.1]: /app/server/index.ts:294
2025-08-29T19:24:39.780768+00:00 app[web.1]:     app.post("/api/voice-recordings/process-direct", authenticateImmediate, async (req: any, res) => {
2025-08-29T19:24:39.780768+00:00 app[web.1]:                                                      ^
2025-08-29T19:24:39.780769+00:00 app[web.1]: 
2025-08-29T19:24:39.780769+00:00 app[web.1]: 
2025-08-29T19:24:39.780769+00:00 app[web.1]: ReferenceError: Cannot access 'authenticateImmediate' before initialization
2025-08-29T19:24:39.780769+00:00 app[web.1]:     at <anonymous> (/app/server/index.ts:294:54)
2025-08-29T19:24:39.780769+00:00 app[web.1]: 
2025-08-29T19:24:39.780770+00:00 app[web.1]: Node.js v18.20.8
2025-08-29T19:24:39.802290+00:00 app[web.1]: ❌ Server exited with code 1
2025-08-29T19:24:39.809644+00:00 app[web.1]: npm notice
2025-08-29T19:24:39.809645+00:00 app[web.1]: npm notice New major version of npm available! 10.9.3 -> 11.5.2
2025-08-29T19:24:39.809646+00:00 app[web.1]: npm notice Changelog: https://github.com/npm/cli/releases/tag/v11.5.2
2025-08-29T19:24:39.809646+00:00 app[web.1]: npm notice To update run: npm install -g npm@11.5.2
2025-08-29T19:24:39.809646+00:00 app[web.1]: npm notice
2025-08-29T19:24:39.859410+00:00 heroku[web.1]: Process exited with status 1
2025-08-29T19:24:39.884905+00:00 heroku[web.1]: State changed from starting to crashed