-----> Building on the Heroku-24 stack
-----> Using buildpack: heroku/nodejs
-----> Node.js app detected
       
-----> Creating runtime environment
       
       NPM_CONFIG_LOGLEVEL=error
       NODE_VERBOSE=false
       NODE_ENV=production
       NODE_MODULES_CACHE=true
       
-----> Installing binaries
       engines.node (package.json):   18.x
       engines.npm (package.json):    >=9.0.0
       
       Resolving node version 18.x...
       Downloading and installing node 18.20.8...
       Bootstrapping npm >=9.0.0 (replacing 10.8.2)...
       npm 10.9.3 installed
       
-----> Restoring cache
       Cached directories were not restored due to a change in version of node, npm, yarn or stack
       Module installation may take longer for this build
       
-----> Installing dependencies
       Installing node modules
       
       added 539 packages, and audited 540 packages in 8s
       
       72 packages are looking for funding
         run `npm fund` for details
       
       11 vulnerabilities (3 low, 7 moderate, 1 critical)
       
       To address issues that do not require attention, run:
         npm audit fix
       
       To address all issues (including breaking changes), run:
         npm audit fix --force
       
       Run `npm audit` for details.
       npm notice
       npm notice New major version of npm available! 10.9.3 -> 11.5.2
       npm notice Changelog: https://github.com/npm/cli/releases/tag/v11.5.2
       npm notice To update run: npm install -g npm@11.5.2
       npm notice
       
-----> Build
       Detected both "build" and "heroku-postbuild" scripts
       Running heroku-postbuild
       
       > rest-express@1.0.0 heroku-postbuild
       > npm run build
       
       
       > rest-express@1.0.0 build
       > vite build && esbuild server/index.ts --platform=node --bundle --format=esm --outdir=dist --external:pg-native --external:bufferutil --external:utf-8-validate
       
       vite v5.4.14 building for production...
       transforming...
Browserslist: browsers data (caniuse-lite) is 10 months old. Please run:
  npx update-browserslist-db@latest
  Why you should do it regularly: https://github.com/browserslist/update-db#readme
       ✓ 1741 modules transformed.
       rendering chunks...
       computing gzip size...
       ../dist/public/index.html                   0.63 kB │ gzip:   0.38 kB
(!) Some chunks are larger than 500 kB after minification. Consider:
- Using dynamic import() to code-split the application
- Use build.rollupOptions.output.manualChunks to improve chunking: https://rollupjs.org/configuration-options/#output-manualchunks
- Adjust chunk size limit for this warning via build.chunkSizeWarningLimit.
       ../dist/public/assets/index-9Apixpnm.css   74.45 kB │ gzip:  13.27 kB
       ../dist/public/assets/index-V137gnMo.js   528.22 kB │ gzip: 158.21 kB
       ✓ built in 3.72s
✘ [ERROR] Could not resolve "@babel/preset-typescript/package.json"
    node_modules/@babel/core/lib/config/files/module-types.js:151:40:
      151 │ ...t packageJson = require("@babel/preset-typescript/package.json");
          ╵                            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  You can mark the path "@babel/preset-typescript/package.json" as external to exclude it from the bundle, which will remove this error and leave the unresolved path in the bundle. You can also surround this "require" call with a try/catch block to handle this failure at run-time instead of bundle-time.
✘ [ERROR] Could not resolve "../pkg"
    node_modules/lightningcss/node/index.js:17:27:
      17 │   module.exports = require(`../pkg`);
         ╵                            ~~~~~~~~
▲ [WARNING] The glob pattern require("../lightningcss.*.node") did not match any files [empty-glob]
    node_modules/lightningcss/node/index.js:22:29:
      22 │ ...dule.exports = require(`../lightningcss.${parts.join('-')}.node`);
         ╵                           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
1 warning and 2 errors
-----> Build failed
       
       We're sorry this build is failing! You can troubleshoot common issues here:
       https://devcenter.heroku.com/articles/troubleshooting-node-deploys
       
       If you're stuck, please submit a ticket so we can help:
       https://help.heroku.com/
       
       Love,
       Heroku
       
 !     Push rejected, failed to compile Node.js app.
 !     Push failed